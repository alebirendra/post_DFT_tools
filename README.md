# Quantum ESPRESSO Post-processing Tools

This repository provides two Python scripts to streamline the extraction and reuse of data from `vc.out` files generated by Quantum ESPRESSO variable-cell relaxations. These tools help automate energy reporting and input file updates for subsequent calculations.

---

## 🧰 Included Scripts

---

### 1. `extract_energy_sorted.py`

🔍 **Purpose**:  
Recursively scan all folders and subfolders from the current directory, search for `vc.out` files, extract the final `!    total energy` line, and write the path and energy to a file named `energy.txt`.

#### ✅ Features:
- Extracts **only the final** occurrence of `!    total energy` in each `vc.out`
- Sorts the output paths alphabetically
- Saves results to `energy.txt`

#### 📄 Example Output (`energy.txt`):


### 2. `update_vc_in_from_vc_out.py`

🔄 **Purpose**:  
Update an existing `vc.in` file by extracting the final relaxed structure (`CELL_PARAMETERS` and `ATOMIC_POSITIONS`) from a completed `vc.out` file and write a new input file `1vc.in`.

---

🔧 **Functionality**:
- Locates the final structure section after `"Begin final coordinates"` and before `"End final coordinates"` in `vc.out`
- Replaces everything from `"CELL_PARAMETERS (alat)"` **up to but not including** `"K_POINTS {automatic}"` in `vc.in`
- Generates a new file: `1vc.in`
- Skips writing the `"End final coordinates"` line into the new file

---

📥 **Input**:
- `vc.out` (with relaxed structure)
- `vc.in` (original input file)

---

📤 **Output**:
- `1vc.in` (updated structure, ready for the next run)

---

▶️ **Usage**:
```bash
python update_vc_in_from_vc_out.py
```
